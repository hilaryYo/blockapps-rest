"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _path=_interopRequireDefault(require("path"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,r,n,o,u,i){try{var s=e[u](i),a=s.value}catch(e){return void r(e)}s.done?t(a):Promise.resolve(a).then(n,o)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function o(e){asyncGeneratorStep(n,t,r,o,u,"next",e)}function u(e){asyncGeneratorStep(n,t,r,o,u,"throw",e)}o(void 0)})}}var cwd=_path.default.resolve(process.cwd());function isAddress(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(e)&&!/^(0x)?[0-9A-F]{40}$/.test(e))||isChecksumAddress(e))}function isHash(e){return/([A-Fa-f0-9]{64})$/.test(e)}function isChecksumAddress(e){for(var t=e.replace("0x",""),r=sha3(t.toLowerCase()),n=0;n<40;n++)if(7<parseInt(r[n],16)&&t[n].toUpperCase()!==t[n]||parseInt(r[n],16)<=7&&t[n].toLowerCase()!==t[n])return!1;return!0}function iuid(){return this.uid(void 0,12)}function sha3(e){throw new Error("sha3 not found")}function uid(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6;t<1&&(t=1),16<t&&(t=16);var r=Math.floor(Math.random()*Math.pow(10,t));return void 0===e?r:"".concat(e,"_").concat(r)}function usc(r){return Object.keys(r).reduce(function(e,t){return e["_".concat(t)]=r[t],e},{})}function getArgInt(e,t){var r=process.argv.indexOf(e);if(r<=0){if(void 0!==t)return t;throw new Error("Argument not found ".concat(e))}var n=process.argv[r+1],o=parseInt(n);if(isNaN(o))throw new Error("Invalid int value for ".concat(e," : ").concat(n));return o}function sleep(e){return _sleep.apply(this,arguments)}function _sleep(){return(_sleep=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(function(){e()},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function until(e,t,r){return _until.apply(this,arguments)}function _until(){return(_until=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var o,u,i,s,a,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=3<c.length&&void 0!==c[3]?c[3]:6e4,u=10,i=500,s=0;case 4:if(s<o)return e.next=7,r(n);e.next=16;break;case 7:if(a=e.sent,t(a))return e.abrupt("return",a);e.next=10;break;case 10:return e.next=12,sleep(i);case 12:s+=i,i+=u,e.next=4;break;case 16:throw new Error("until: timeout ".concat(o," ms exceeded"));case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function timeout(t){return new Promise(function(e){return setTimeout(e,t)})}function filter_isContained(e,r,n,t){return t&&(console.log("setA",e),console.log("setB",r)),e.filter(function(t){return 0<!r.filter(function(e){return n(t,e)}).length})}function toCsv(e){return e.reduce(function(e,t){return e+(0<e.length?",":"")+t},"")}var _default={cwd:cwd,filter_isContained:filter_isContained,getArgInt:getArgInt,isAddress:isAddress,isHash:isHash,iuid:iuid,uid:uid,usc:usc,sleep:sleep,until:until,timeout:timeout,toCsv:toCsv};exports.default=_default;
//# sourceMappingURL=util.js.map
